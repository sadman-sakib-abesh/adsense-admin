(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{117:function(e,t,a){},202:function(e,t,a){},209:function(e,t,a){"use strict";a.r(t);var c=a(0),s=a.n(c),n=a(16),i=a.n(n),r=(a(117),a(6)),o=a(235),l=a(36),j=a.n(l),d=(a(196),a(66),a(100),j.a.initializeApp({apiKey:"AIzaSyCwfxRltn9QJGPk15riXEiAPakEh3NSAEs",authDomain:"claps-education.firebaseapp.com",projectId:"claps-education",storageBucket:"claps-education.appspot.com",messagingSenderId:"291544981715",appId:"1:291544981715:web:c0fde6b05676cbcf603426",measurementId:"G-QCWC2C2N36"})),u=d.firestore(),p=d.auth(),b=d.storage(),m=a(229),h=a(232),O=a(1);function x(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var g=Object(m.a)((function(e){return{paper:{position:"absolute",width:400,overflowY:"scroll",backgroundColor:e.palette.background.paper,border:"0px",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),f=Object(m.a)((function(e){return{paper:{position:"absolute",width:700,overflowY:"scroll",backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:"0px"}}})),v=function(e){var t=e.id,a=e.user,n=e.like,i=e.userName,l=e.Title,j=e.Video,d=e.Caption,p=e.image,b=e.comments,m=s.a.useState(x),v=Object(r.a)(m,1)[0],N=Object(c.useState)(!1),C=Object(r.a)(N,2),y=C[0],k=C[1],S=Object(c.useState)(!1),_=Object(r.a)(S,2),w=_[0],T=_[1],I=Object(c.useState)(""),E=Object(r.a)(I,2),F=E[0],P=E[1],A=g(),L=f();return Object(O.jsxs)("div",{className:"post",children:[Object(O.jsx)(h.a,{open:y,onClose:function(){return k(!1)},children:Object(O.jsxs)("div",{style:v,className:A.paper,children:[Object(O.jsx)("center",{id:"likers_head",children:"Likes"}),n.map((function(e){return Object(O.jsxs)("div",{className:"post_header",children:[Object(O.jsx)(o.a,{alt:e,style:{height:"35px",width:"35px",fontSize:"18px"},src:"/static/images/avatar/1.jpg",className:"post_avatar"}),Object(O.jsx)("h3",{children:e})]})}))]})}),Object(O.jsx)(h.a,{open:w,onClose:function(){return T(!1)},children:Object(O.jsx)("div",{style:v,className:L.paper,children:Object(O.jsxs)("div",{className:"pil",children:[Object(O.jsx)("div",{className:"second",children:Object(O.jsx)("img",{src:p,width:"100%"})}),Object(O.jsxs)("div",{className:"second",children:[Object(O.jsxs)("div",{className:"post_header",children:[Object(O.jsx)(o.a,{alt:i,style:{height:"35px",width:"35px",fontSize:"18px"},src:"/static/images/avatar/1.jpg",className:"post_avatar"}),Object(O.jsx)("h3",{children:i})]}),b.map((function(e){return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"post_header2",children:[Object(O.jsx)(o.a,{alt:e.commenter,style:{height:"25px",width:"25px",fontSize:"10px"},src:"/static/images/avatar/1.jpg",className:"post_avatar"}),Object(O.jsx)("b",{children:e.commenter}),"  \xa0",Object(O.jsx)("p",{children:e.text})]})})}))]})]})})}),Object(O.jsxs)("div",{className:"post_header",children:[Object(O.jsx)(o.a,{alt:i,style:{height:"35px",width:"35px",fontSize:"18px"},src:"/static/images/avatar/1.jpg",className:"post_avatar"}),Object(O.jsx)("h3",{children:i})]}),Object(O.jsxs)("h4",{className:"post_text",children:[" ",Object(O.jsx)("strong",{children:l}),Object(O.jsx)("br",{}),d]}),j?Object(O.jsx)("iframe",{width:"560",height:"315",src:j,title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0}):Object(O.jsx)("img",{src:p,alt:"",className:"image_post"}),n.includes(a)?Object(O.jsx)("i",{id:"heart-2",onClick:function(){u.collection("posts").doc(t).get().then((function(e){var c=e.data().like;c.splice(c.indexOf(a),1),document.getElementById("heart-2").style.transition="0.6s",u.collection("posts").doc(t).set({timestamp:e.data().timestamp,Caption:e.data().Caption,Title:e.data().Title,image:e.data().image?e.data().image:null,userName:e.data().userName,like:c,comments:e.data().comments})}))},class:"fa fa-heart"}):Object(O.jsx)("i",{id:"heart-1",onClick:function(){u.collection("posts").doc(t).get().then((function(e){var c=e.data().like;c.push(a),document.getElementById("heart-1").style.transition="0.6s",u.collection("posts").doc(t).set({timestamp:e.data().timestamp,Caption:e.data().Caption,image:e.data().image?e.data().image:null,userName:e.data().userName,Title:e.data().Title,Vidoe:e.data().Video,like:c,comments:e.data().comments})}))},class:"fa fa-heart-o"}),Object(O.jsx)("i",{id:"heart-1",onClick:function(){return T(!0)},class:"fa fa-comment-o"}),n.length>0?Object(O.jsxs)("h4",{onClick:function(){return k(!0)},className:"post_text",children:["Liked by ",Object(O.jsx)("strong",{children:n[0]}),n.length>1?Object(O.jsxs)(O.Fragment,{children:[" and ",Object(O.jsxs)("strong",{children:[n.length-1," other",n.length-1===1?Object(O.jsx)(O.Fragment,{}):Object(O.jsx)(O.Fragment,{children:"s"})]})]}):Object(O.jsx)(O.Fragment,{})]}):Object(O.jsx)(O.Fragment,{}),b?Object(O.jsxs)("p",{onClick:function(){return T(!0)},className:"comments-see",children:["View all ",b.length," comments"]}):Object(O.jsx)(O.Fragment,{}),Object(O.jsxs)("div",{className:"comment",children:[Object(O.jsx)("input",{type:"text",className:"in-put",placeHolder:"Add a comment...",onChange:function(e){return P(e.target.value)}}),F?Object(O.jsx)("div",{onClick:function(){u.collection("posts").doc(t).get().then((function(e){var c=e.data().comments;c.push({commenter:a,text:F}),u.collection("posts").doc(t).set({timestamp:e.data().timestamp,Caption:e.data().Caption,image:e.data().image?e.data().image:null,Title:e.data().Title,userName:e.data().userName,like:e.data().like,comments:c}),alert("comment posted"),P("")}))},className:"btn",children:"Post"}):Object(O.jsx)("div",{className:"btn-2",children:"Post"})]})]})},N=(a(202),a(233)),C=a(234),y=function(e){var t=e.userName,a=Object(c.useState)(""),s=Object(r.a)(a,2),n=s[0],i=s[1],o=Object(c.useState)(""),l=Object(r.a)(o,2),d=l[0],p=l[1],m=Object(c.useState)(""),h=Object(r.a)(m,2),x=h[0],g=h[1],f=Object(c.useState)(""),v=Object(r.a)(f,2),y=v[0],k=v[1],S=Object(c.useState)(""),_=Object(r.a)(S,2),w=_[0],T=_[1];return Object(O.jsx)("div",{className:"file_upload",children:Object(O.jsxs)("center",{children:[Object(O.jsx)("progress",{className:"progress",value:d,max:"100"}),Object(O.jsx)("br",{}),Object(O.jsx)(C.a,{type:"text",className:"input",placeholder:"inter a title",value:w,onChange:function(e){return T(e.target.value)}}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)(C.a,{type:"text",className:"input",placeholder:"Video link",value:y,onChange:function(e){return k(e.target.value)}}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("textarea",{type:"text",className:"input-2",placeholder:"inter a text",value:x,onChange:function(e){return g(e.target.value)}}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("input",{type:"file",onChange:function(e){e.target.files[0]&&i(e.target.files[0])}}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)(N.a,{onClick:function(){""===n?(u.collection("posts").add({timestamp:j.a.database.ServerValue.TIMESTAMP,Caption:x,Title:w,Video:y,userName:t,like:[],comments:[]}),g(""),i(null),p(0),T("")):b.ref("images/".concat(n.name)).put(n).on("state_changed",(function(e){var t=100*Math.round(e.bytesTransferred/e.totalBytes);p(t)}),(function(e){alert(e),console.log(e)}),(function(){b.ref("images").child("".concat(n.name)).getDownloadURL().then((function(e){u.collection("posts").add({timestamp:j.a.database.ServerValue.TIMESTAMP,Caption:x,image:e,Title:w,userName:t,like:[],comments:[]}),g(""),i(null),p(0),T("")}))}))},children:"upload"})]})})};a(203);function k(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var S=Object(m.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));var _=function(){var e=Object(c.useState)(!1),t=Object(r.a)(e,2),a=t[0],n=t[1],i=Object(c.useState)([]),l=Object(r.a)(i,2),j=l[0],d=l[1],b=Object(c.useState)(!1),m=Object(r.a)(b,2),x=m[0],g=m[1],f=Object(c.useState)(!1),_=Object(r.a)(f,2),w=_[0],T=_[1],I=Object(c.useState)(!1),E=Object(r.a)(I,2),F=E[0],P=E[1],A=Object(c.useState)(""),L=Object(r.a)(A,2),V=L[0],z=L[1],B=Object(c.useState)(""),G=Object(r.a)(B,2),M=G[0],U=G[1],D=Object(c.useState)(""),J=Object(r.a)(D,2),W=J[0],Y=J[1],Q=Object(c.useState)(null),R=Object(r.a)(Q,2),H=R[0],K=R[1],X=Object(c.useState)([]),q=Object(r.a)(X,2),Z=(q[0],q[1]),$=S(),ee=s.a.useState(k),te=Object(r.a)(ee,1)[0];return Object(c.useEffect)((function(){u.collection("posts").onSnapshot((function(e){d(e.docs.map((function(e){return{id:e.id,post:e.data()}})))}))}),j),Object(c.useEffect)((function(){u.collection("users").onSnapshot((function(e){Z(e.docs.map((function(e){return{id:e.id,users:e.data()}})))}))}),[]),Object(c.useEffect)((function(){var e=p.onAuthStateChanged((function(e){if(e){if(K(e),!e.displayName)return e.updateProfile({displayName:V});console.log(e.displayName)}else K(null)}));return function(){e()}}),[H,V]),Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)(h.a,{open:a,onClose:function(){return n(!1)},children:Object(O.jsx)("div",{style:te,className:$.paper,children:Object(O.jsx)("center",{children:Object(O.jsxs)("div",{className:"first_paper",children:[Object(O.jsx)(N.a,{type:"submit",onClick:function(){return P(!0)},className:"sign_up",children:"post"}),Object(O.jsx)(N.a,{type:"submit",onClick:function(){p.signOut(),n(!1)},className:"sign_up",children:"LOG OUT"})]})})})}),Object(O.jsx)(h.a,{open:F,onClose:function(){return P(!1)},children:Object(O.jsx)("div",{style:te,className:$.paper,children:H?Object(O.jsx)(y,{userName:H.displayName}):Object(O.jsx)("h3",{children:"you need to login first"})})}),Object(O.jsx)(h.a,{open:x,onClose:function(){return g(!1)},children:Object(O.jsx)("div",{style:te,className:$.paper,children:Object(O.jsx)("center",{children:Object(O.jsxs)("div",{className:"app_signup",children:[Object(O.jsx)("center",{children:Object(O.jsx)("img",{src:"https://raw.githubusercontent.com/sadman-sakib-abesh/images/main/Logopit_1627314975002.png",alt:"instagram_logo",className:"form_image"})}),Object(O.jsx)("br",{}),Object(O.jsx)(C.a,{type:"text",placeholder:"username",value:V,onChange:function(e){return z(e.target.value)}}),Object(O.jsx)(C.a,{type:"email",placeholder:"email",value:W,onChange:function(e){return Y(e.target.value)}}),Object(O.jsx)(C.a,{type:"password",placeholder:"password",value:M,onChange:function(e){return U(e.target.value)}}),Object(O.jsx)(N.a,{type:"submit",onClick:function(e){return g(!1),void p.createUserWithEmailAndPassword(W,M).then((function(e){u.collection("users").add({name:V,uid:e.uid}),alert("signup successful")})).catch((function(e){return alert(e)}))},children:"SIGN UP"})]})})})}),Object(O.jsx)(h.a,{open:w,onClose:function(){return T(!1)},children:Object(O.jsx)("div",{style:te,className:$.paper,children:Object(O.jsx)("center",{children:Object(O.jsxs)("div",{className:"app_signup",children:[Object(O.jsx)("center",{children:Object(O.jsx)("img",{src:"https://raw.githubusercontent.com/sadman-sakib-abesh/images/main/Logopit_1627314975002.png",alt:"instagram_logo",className:"form_image"})}),Object(O.jsx)("br",{}),Object(O.jsx)(C.a,{type:"email",placeholder:"email",value:W,onChange:function(e){return Y(e.target.value)}}),Object(O.jsx)(C.a,{type:"password",placeholder:"password",value:M,onChange:function(e){return U(e.target.value)}}),Object(O.jsx)(N.a,{type:"submit",onClick:function(){return T(!1),void p.signInWithEmailAndPassword(W,M).then((function(e){return alert("logged in")})).catch((function(e){alert(e)}))},children:"LOG IN"})]})})})}),Object(O.jsxs)("div",{id:"header_app",className:"header_app",children:[Object(O.jsx)("h1",{className:"header_text",children:"Claps admin"}),H?Object(O.jsx)("span",{className:"sign_up_2",children:Object(O.jsx)(o.a,{onClick:function(){return n(!0)},alt:H.displayName,src:"/static/images/avatar/1.jpg",className:"nav_avatar",style:{height:"25px",width:"25px",fontSize:"10px"}})}):Object(O.jsx)("span",{className:"log_container",children:Object(O.jsx)("span",{className:"sign_up_2",children:Object(O.jsx)(N.a,{type:"submit",onClick:function(){return T(!0)},className:"sign_up",children:"LOG IN"})})})]}),Object(O.jsx)("div",{id:"feed",children:Object(O.jsx)("div",{className:"post_container",children:j.map((function(e){var t=e.id,a=e.post;return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(v,{id:t,like:a.like,Title:a.Title,Video:a.Video,user:!!H&&H.displayName,comments:a.comments,userName:a.userName,image:a.image,Caption:a.Caption},t)})}))})})]})},w=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,237)).then((function(t){var a=t.getCLS,c=t.getFID,s=t.getFCP,n=t.getLCP,i=t.getTTFB;a(e),c(e),s(e),n(e),i(e)}))};i.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(_,{})}),document.getElementById("root")),w()}},[[209,1,2]]]);
//# sourceMappingURL=main.e86b1d0c.chunk.js.map